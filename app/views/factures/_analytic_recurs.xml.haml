- up_category.children.each do |category|
	- factures = @saison.factures.select{|v| v.category_id.eql?(category.id)}
	- coul 	 = "#{category.code}_head"
	%row{:bgcolor => @coul[coul.to_sym], :fontweight => "bold", :fontsize => "12", :level => "1"}
		%column{:content => "1"}
		%column{:content => ""}
		%column{:content => "#{category.name}"}
		%column{:content => "#{@sum[:prix][category.code.to_sym].to_i}", :halign => "right", :format => "0,000"}
		%column{:content => ""}
		%column{:content => ""}
		%column{:content => ""}
		%column{:content => ""}
		%column{:content => ""}
	
	- factures = @saison.factures.select{|v| v.category_id.eql?(category.id)}.each do |facture|
		- coul 	 = "#{facture.category.code}"
		%row{:bgcolor => @coul[coul.to_sym], :level => "2"}
			%column{:content => "2"}
			%column{:content => ""}
			%column{:content => ""}
			%column{:content => "#{facture.cout.to_i} #{euro}", :halign => "right", :format => "0,000"}
			%column{:content => "#{facture.name}"}
			%column{:content => "#{facture.user.name}"}
			%column{:content => "#{facture.date}"}
			%column{:content => "#{facture.ref_client}"}
			%column{:content => "#{facture.ref}"}
			
		= render(:partial => "analytic_recurs", :locals => { :up_category => category}) if category.has_children?
